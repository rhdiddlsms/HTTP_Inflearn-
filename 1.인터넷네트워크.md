# 인터넷 네트워크

- [인터넷 네트워크](#인터넷-네트워크)
- [1. 인터넷 통신](#1-인터넷-통신)
- [2. IP(인터넷 프로토콜)](#2-ip인터넷-프로토콜)
  - [IP 프로토콜의 한계](#ip-프로토콜의-한계)
    - [문제](#문제)
- [3. TCP, UDP](#3-tcp-udp)
  - [프로토콜 계층](#프로토콜-계층)
  - [IP 패킷 정보](#ip-패킷-정보)
  - [TCP/IP 패킷 정보](#tcpip-패킷-정보)
  - [TCP 특징](#tcp-특징)
    - [연결지향(TCP 3 way handshake)](#연결지향tcp-3-way-handshake)
    - [데이터 전달 보증](#데이터-전달-보증)
    - [순서 보장](#순서-보장)
  - [UDP의 특징](#udp의-특징)
- [4. PORT](#4-port)
  - [PORT 특징](#port-특징)
- [5. DNS](#5-dns)
  - [DNS(Domain Name System)](#dnsdomain-name-system)


# 1. 인터넷 통신

인터넷에서 컴퓨터는 어떻게 통신?

인터넷망은 수많은 노드가 있는데 어떤 규칙으로 전달?
- IP 통신

# 2. IP(인터넷 프로토콜)

- 지정한 IP 주소(IP Address)에 데이터 전달
- 패킷(Packet)이라는 통신 단위로 데이터 전달
  - IP 패킷 정보
    - 출발지 IP
    - 목적지 IP
    - 기타등등

## IP 프로토콜의 한계

- 비연결성
  - 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
- 비신뢰성
  - 중간에 패킷이 사라진다면
  - 패킷이 순서대로 안온다면
- 프로그램 구분
  - 같은  IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이라면

### 문제

1. 대상이 서비스 불가능해도 패킷은 전송된다
2. 패킷이 소실 될 수 있다.
3. 패킷 전달에 순서 문제가 발생한다.

이런 문제들을 해결해주는게 바로 `TCP`이다

# 3. TCP, UDP

IP 프로토콜에서의 문제를 TCP가 해결해준다

인터넷 프로토콜 스택의 4계층
- 애플리케이션 계층 - HTTP, FTP
- 전송 계층 - TCP, UDP
- 인터넷 계층 - IP
- 네트워크 인터페이스 계층

## 프로토콜 계층

1. 프로그램이 메세지 생성
2. Socket 라이브러리를 통해 전달
3. TCP 정보 생성, 메세지 데이터 포함
4. IP 패킷 생성, TCP데이터 포함
5. 이더넷 프래임 포함해서 LAN카드의 mac주소에 전송

## IP 패킷 정보

- IP 패킷
  - 출발지 IP
  - 목적지 IP
  - 기타 등등

## TCP/IP 패킷 정보

- IP 패킷
  - 출발지 IP
  - 목적지 IP
  - 기타 등등
- TCP 세그먼트
  - 출발지 Port
  - 목적지 Port
  - 전송 제어
  - 순서
  - 검증 정보

## TCP 특징

TCP(Transmission Control Protocol) : 전송 제어 프로토콜

- 연결지향 - TCP 3 way handshake(가상 연결)
- 데이터 전달 보증
- 순서 보장
- 신뢰할 수 있는 프로토콜
- 현재는 대부분이 TCP를 사용한다.

### 연결지향(TCP 3 way handshake)

1. 클 -> 서 `SYN`  (connect, 연결 과정)
2. 서 -> 클 `SYN+ACK`
3. 클 -> 서 `ACK`
4. 서 -> 클 `데이터 전송`

- `SYN` : 접속 요청
- `ACK` : 요청 수락

논리적으로만 연결이 됐다고 생각하자

### 데이터 전달 보증

1. 클 -> 서 `데이터 전송`
2. 서 -> 클 `데이터 잘 받았음`

### 순서 보장

1. 순서가 제대로 안오면 다 버리면 다시보내라고 요청

TCP속도가 느리다.

## UDP의 특징

UDP(User Datagram Protocol) - 사용자 데이터그램 프로토콜

- 하얀 도화지에 비유(기능이 거의 없음)
- TCP에 있는 기능이 없고
- IP와 거의 같음
- 하지만 Port + 체크섬 기능 추가됨
- Port는 뭐하는걸까? 
  - 하나의 IP에서 여러개의 애플리케이션이 실행될 때 내 IP로 여러 패킷이 온다. 이걸 어떻게 구분할까? = port

UDP의 장점 : 빠르다, 자체 제작이 가능하다.


# 4. PORT

한번에 둘 이상의 IP와 연결을 해야 한다면 필요하다.

TCP 세그먼트에는 출발지 Port, 목적지 Port가 존재한다.

각 애플리케이션마다 포트번호를 부여해서 사용

- IP가 아파트라고 생각한다면
- Port는 몇동 몇호라고 생각

## PORT 특징

- 0~65535 할당 가능
- 0~1023 : 잘 알려진 포트, 사용하지 않은 것이 좋음
  - FTP - 20,21
  - TELNET - 23
  - HTTP - 80
  - HTTPS - 443

# 5. DNS

- IP는 기억하기가 어렵다
- IP는 변경될 수 있다 

그래서 나온게 `DNS`

## DNS(Domain Name System)

- 전화번호부
- 도메인 명을 IP주소로 변환
